(()=>{"use strict";var e={187:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}h(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},i.prototype.listenerCount=y,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}const r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.length=n,this.hits=0}var n,r;return n=e,(r=[{key:"hit",value:function(){return this.hits++,!0}},{key:"isSunk",value:function(){return this.hits>=this.length}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();var o=n(187);const i=new(n.n(o)());function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}function p(e,t){y(e,t),t.add(e)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var h=new WeakMap,m=new WeakSet,d=new WeakSet;function b(e,t){var n=this.gameState.shipsAndTheirOccupiedSpaces["".concat(e,",").concat(t)];return void 0!==n&&n.hit()}function g(e,t){var n=this.map.length,r=this.map[0].length;return!(e<0||e>=n||t<0||t>=r)&&"S"!==this.map[e][t]}const w=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,d),p(this,m),r={writable:!0,value:function(){return{missedSquares:[],hittedSquares:[],shipsAndTheirOccupiedSpaces:{}}}},y(this,n=h),n.set(this,r),this.gameState=function(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}(this,h).call(this),this.player=t,this.map=e.generateMap(),i.on("place ship",(function(e,t,n,r){e==o.player&&o.placeShip(t,n,r)}))}var t,n,o;return t=e,n=[{key:"placeShip",value:function(e){for(var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:coord,2),n=t[0],r=t[1],o=arguments.length>2?arguments[2]:void 0,i=!0,a=this.map.map((function(e){return function(e){if(Array.isArray(e))return c(e)}(t=e.map((function(e){return e})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t})),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=f(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.gameState.shipsAndTheirOccupiedSpaces),p=0;p<e.length;p++){if(!v(this,d,g).call(this,n,r)){i=!1;break}a[n][r]="S",l["".concat(n,",").concat(r)]=e,o?n++:r++}return i&&(this.map=a,this.gameState.shipsAndTheirOccupiedSpaces=l),i}},{key:"placeShipsRandomly",value:function(){var e=this,t=function(){return Math.floor(10*Math.random())},n=new r("Carrier",5),o=new r("Battleship",4),i=new r("Cruiser",3),a=new r("Submarine",3),s=new r("Destroyer",2),u=function(n){var r=!1;do{var o=[t(),t()];r=e.placeShip(n,o,Math.random()<.5)}while(!r)};u(n),u(o),u(i),u(a),u(s)}},{key:"receiveAttack",value:function(e,t){var n={isASuccessfulHit:!1,shipHit:!1,waterHit:!1};return"X"==this.map[e][t]?n.isASuccessfulHit=!1:(n.isASuccessfulHit=!0,this.map[e][t]="X",v(this,m,b).call(this,e,t)?(n.shipHit=!0,this.gameState.hittedSquares.push([e,t])):(n.waterHit=!0,this.gameState.missedSquares.push([e,t])),n)}},{key:"isOver",value:function(){return!this.map.some((function(e){return e.includes("S")}))}}],o=[{key:"generateMap",value:function(){for(var e=[],t=0;t<10;t++){for(var n=[],r=0;r<10;r++)n.push(0);e.push(n)}return e}}],n&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}function k(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var T,_=function(){function e(t){L(this,e),this.name=t,this.isTheirTurn=!1}return k(e,[{key:"toggleIsTheirTurn",value:function(){this.isTheirTurn=!this.isTheirTurn}}]),e}(),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return L(this,o),r.apply(this,arguments)}return k(o,[{key:"generateAttack",value:function(){var e=function(){return Math.floor(10*Math.random())};return[e(),e()]}}]),o}(_);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}function B(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"initialize",value:function(){}},{key:"createGameboard",value:function(e){for(var t=document.createElement("div"),n="",r=0;r<10;r++)for(var o=0;o<10;o++)n+='<div class="cell" data-row="'.concat(r,'" data-col="').concat(o,'"></div>');return t.innerHTML=n,t.classList.add("gameboard"),t.setAttribute("id",e),t}},{key:"initializeShipsPlacement",value:function(t,n){e.listenForCellEvents("player","mouseover",(function(t){var r=t.dataset.row,o=t.dataset.col,i=parseInt(r,10),a=parseInt(o,10);e.placeShip(n.name,ship,[i,a],!1),e.darkenCells(t,ship.length=3,!1)}))}},{key:"glowCells",value:function(t,n){var r=document.getElementById("player"),o=Array.from(r.getElementsByClassName("cell")),i=[];o.forEach((function(t){t.addEventListener("mouseover",B(e,e,R).call(e,event,i)),t.addEventListener("mouseout",B(e,e,N).call(e,i))}))}},{key:"removeGlowCellsListener",value:function(){var t=document.getElementById("player");Array.from(t.getElementsByClassName("cell")).forEach((function(t){t.removeEventListener("mouseover",B(e,e,R)),t.removeEventListener("mouseout",B(e,e,N))}))}},{key:"placeShip",value:function(e,t,n){for(var r=document.getElementById("player"),o=Array.from(r.children),i=P(t,2),a=i[0],s=i[1],u=0;u<e;u++){var c=a,l=s;n?c+=u:l+=u;var f=o[10*c+l];f&&f.classList.add("ship")}}},{key:"stopShipsPlacement",value:function(){}},{key:"displayGameboard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gameboard,t=(e.map,e.gameState),n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=document.getElementById(n);Array.from(o.children).forEach((function(e){var n=parseInt(e.dataset.row,10),o=parseInt(e.dataset.col,10);if(t.missedSquares.some((function(e){var t=P(e,2),r=t[0],i=t[1];return n===r&&o===i}))?e.classList.add("missed"):e.classList.remove("missed"),t.hittedSquares.some((function(e){var t=P(e,2),r=t[0],i=t[1];return n===r&&o===i}))?e.classList.add("hitted"):e.classList.remove("hitted"),r){var i="".concat(n,",").concat(o);t.shipsAndTheirOccupiedSpaces.hasOwnProperty(i)?e.classList.add("ship"):e.classList.remove("ship")}}))}},{key:"darkenCells",value:function(e,t){e.classList.add("dark")}},{key:"darkenCell",value:function(e,t){e.classList.add("".concat(t))}},{key:"rotateShip",value:function(){}},{key:"attackShip",value:function(){}},{key:"listenForCellEvents",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){console.log(e)};document.getElementById("".concat(e)).querySelectorAll(".cell").forEach((function(e){e.addEventListener("".concat(t),(function(){n(e)}))}))}},{key:"listenForGameboardClicks",value:function(){var t=function(t){t.addEventListener("click",(function(n){var r=n.target,o=B(e,e,G).call(e,r),a=o.rowNumber,s=o.colNumber;i.emit("gameboard click",t,r,a,s)}))},n=document.getElementById("player"),r=document.getElementById("enemy");t(n),t(r)}},{key:"displayInstruction",value:function(){}},{key:"updateInstruction",value:function(e,t){document.getElementById("placing-ships__shipName").innerText="Ship: ".concat(e),document.getElementById("placing-ships__shipLength").innerText="Length: ".concat(t)}},{key:"announceWinner",value:function(e){var t=document.querySelector(".modal__bg"),n=document.querySelector(".winner__text");document.getElementById("restart__button--modal").onclick=function(){location.reload()},t.style.display="flex",n.innerText=e}}],null&&x(t.prototype,null),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){var n=e.target.dataset,r=n.row,o=n.col;B(T,T,D).call(T,t);for(var i=isVertical?parseInt(r,10):parseInt(o,10),a=isVertical?parseInt(o,10):parseInt(r,10),s=i;s<i+length;s++){var u=isVertical?findCellByDataAttributes(s,a):findCellByDataAttributes(a,s);u&&(u.classList.add("dark"),t.push(u))}}function N(e){B(T,T,D).call(T,e)}function D(e){e.forEach((function(e){e.classList.remove("dark")})),e=[]}function G(e){var t=e.dataset.row,n=e.dataset.col;return{rowNumber:parseInt(t,10),colNumber:parseInt(n,10)}}T=M;const H=M;function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=new _("Dodot"),W=new I("enemy"),U=new w(F),z=new w(W);function V(){return U.isOver()||z.isOver()}function $(){return U.isOver()?(H.announceWinner("You Lost"),H.displayGameboard(z,"enemy",!1),console.log("Player lost",U.map,z.map)):z.isOver()&&(H.announceWinner("You Won"),console.log("Player won",U.map,z.map)),U.isOver()?U.player.name:z.player.name}function K(){return F.toggleIsTheirTurn(),W.toggleIsTheirTurn(),F.isTheirTurn?F:W}F.isTheirTurn=!0,W.isTheirTurn=!1,H.displayGameboard(U,"player",!0),H.listenForGameboardClicks(),function(){var e=!1;document.getElementById("rotateButton").onclick=function(){e=1!=e};var t=new r("Carrier",5),n=new r("Battleship",4),o=new r("Cruiser",3),a=new r("Submarine",3),s=new r("Destroyer",2),u=t,c=u.length;H.updateInstruction(u.name,u.length);var l=function(r,l,p,y){if("player"===r.id&&U.placeShip(u,[p,y],e))switch(H.placeShip(u.length,[p,y],e),U.placeShip(u,[p,y],e),u){case t:c=(u=n).length,H.updateInstruction(u.name,u.length);break;case n:c=(u=o).length,H.updateInstruction(u.name,u.length);break;case o:c=(u=a).length,H.updateInstruction(u.name,u.length);break;case a:c=(u=s).length,H.updateInstruction(u.name,u.length);break;case s:f(),i.emit("done ships placement"),H.displayGameboard(U,"player",!0)}};i.on("gameboard click",l);var f=function(){i.removeListener("gameboard click",l),y.forEach((function(e){e.removeEventListener("mouseover",h),e.removeEventListener("mouseout",m)}))},p=document.getElementById("player"),y=Array.from(p.getElementsByClassName("cell")),v=[];function h(t){console.log(v);var n=t.target.dataset,r=n.row,o=n.col;console.log(r,o);for(var i=e?parseInt(r,10):parseInt(o,10),a=e?parseInt(o,10):parseInt(r,10),s=i;s<i+c;s++){var u=e?d(s,a):d(a,s);u&&(u.classList.add("dark"),v.push(u))}}function m(){v.forEach((function(e){e.classList.remove("dark")})),v=[]}function d(e,t){return y.find((function(n){return n.dataset.row===e.toString()&&n.dataset.col===t.toString()}))}y.forEach((function(e){e.addEventListener("mouseover",h),e.addEventListener("mouseout",m)}))}(),z.placeShipsRandomly(),i.on("done ships placement",(function(){document.getElementById("enemy").classList.remove("hide"),document.getElementById("placing-ships").classList.add("hide"),i.on("gameboard click",(function(e,t,n,r){if("enemy"===e.id&&F.isTheirTurn&&!V()){var o=z.receiveAttack(n,r);H.displayGameboard(z,"enemy",!1),o.isASuccessfulHit&&K(),$()}if(W.isTheirTurn&&!V()){var i;do{var a=(c=W.generateAttack(),l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(c,l)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],u=a[1];i=U.receiveAttack(s,u)}while(!i.isASuccessfulHit);K(),H.displayGameboard(U,"player",!0),$()}var c,l}))}))})()})();
//# sourceMappingURL=bundle.js.map